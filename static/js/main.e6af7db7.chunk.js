(this["webpackJsonpreact-config"]=this["webpackJsonpreact-config"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"Form_form__1a9c9",label:"Form_label__1zVtl",input:"Form_input__1jByK",formButton:"Form_formButton__28yf2"}},14:function(t,e,n){t.exports={text:"ErrorMessage_text__1gzzn",wrapper:"ErrorMessage_wrapper__3PSMA",formButton:"ErrorMessage_formButton__3cI4L"}},23:function(t,e,n){t.exports={alertWrapper:"Notification_alertWrapper__249cw",alertText:"Notification_alertText__1isZC"}},25:function(t,e,n){t.exports={filterInput:"Filter_filterInput__1BKKH",filter:"Filter_filter__1P7Q4"}},36:function(t,e,n){t.exports={section:"Section_section__p6yfA"}},37:function(t,e,n){t.exports={list:"List_list__1YECW"}},44:function(t,e,n){},88:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n(15),o=n.n(r),i=(n(44),n(8)),u=n(5),s=n(2),b=n(18),j=n(23),d=n.n(j),l=function(t){var e=t.name,n=t.changeAlert,r=t.changeName;return Object(a.useEffect)((function(){var t=setTimeout((function(){n(!1),r("")}),2e3);return function(){clearTimeout(t)}}),[]),Object(c.jsx)("div",{className:d.a.alertWrapper,children:Object(c.jsxs)("p",{className:d.a.alertText,children:[e&&e[0].toUpperCase()+e.slice(1)," is already in the list!!!"]})})},O=n(3),f=Object(O.b)("ADD_CONTACT"),p=Object(O.b)("SET_LOADING"),m=Object(O.b)("SET_ERROR"),_=Object(O.b)("RESET_ERROR"),h=Object(O.b)("DELETE_CONTACT"),x=Object(O.b)("UPDATE_CONTACT"),C=Object(O.b)("FILER_CONTACT"),g=(Object(O.b)("CHANGE_ALERT"),Object(O.b)("RESET_SELECTED")),N=Object(O.b)("ADD_TO_SELECTED"),v=Object(O.b)("CHANGE_CONTACT"),y=Object(O.b)("GET_CONTACTS"),T=n(24),E=n.n(T),L=n(35),A=n(13),w=n.n(A),S=n(16),k=function(t){return t.filterValue},I=function(t){return t.contactsArr.contacts},D=function(t){return t.contactsArr.selectedContact},F=Object(S.a)([I,k],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),R=function(t){return t.contactsArr.error},B=function(t){return t.contactsArr.isLoading},H=n(11),P=n.n(H),U={name:"",number:""},W=Object(i.b)((function(t){return{contacts:I(t),selectedContact:D(t)}}),(function(t){return{addContact:function(e){t(function(t){return function(){var e=Object(L.a)(E.a.mark((function e(n){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p()),e.prev=1,e.next=4,w.a.post("https://phonebook-83997-default-rtdb.firebaseio.com/contacts.json",Object(s.a)(Object(s.a)({},t),{},{update:!1}));case 4:c=e.sent,n(f(Object(s.a)(Object(s.a)({},t),{},{id:c.data.name}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),n(n(m(e.t0)));case 11:return e.prev=11,n(p()),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()}(e))},changeContact:function(e){var n;t((n=e,function(t){t(p()),w.a.put("https://phonebook-83997-default-rtdb.firebaseio.com/contacts/".concat(n.id,".json"),Object(s.a)(Object(s.a)({},n),{},{update:!1})).then((function(){t(v(n)),t(g())})).catch((function(t){return m(t)})).finally((function(){return t(p())}))}))},resetSelected:function(){t(g())}}}))((function(t){var e=t.addContact,n=t.selectedContact,r=t.changeContact,o=t.contacts,i=Object(a.useState)(Object(s.a)({},U)),j=Object(b.a)(i,2),d=j[0],O=j[1],f=Object(a.useState)(!1),p=Object(b.a)(f,2),m=p[0],_=p[1],h=Object(a.useState)(""),x=Object(b.a)(h,2),C=x[0],g=x[1],N=!d.name||!d.number;Object(a.useEffect)((function(){O(n?Object(s.a)({},n):Object(s.a)({},U))}),[n]);var v=function(t){var e=t.target,n=e.name,c=e.value;O((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(u.a)({},n,c))}))};return Object(c.jsxs)(c.Fragment,{children:[m&&Object(c.jsx)(l,{name:C,changeAlert:_,changeName:g}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n?r(d):o.some((function(t){return t.name.toLowerCase()===d.name.toLowerCase()}))?(_(!0),g(d.name)):e(d),O(Object(s.a)({},U))},className:P.a.form,children:[Object(c.jsxs)("label",{className:P.a.label,children:[" ","Name",Object(c.jsx)("input",{type:"text",value:d.name,name:"name",onChange:v,className:P.a.input})]}),Object(c.jsxs)("label",{className:P.a.label,children:[" ","Number",Object(c.jsx)("input",{type:"text",value:d.number,name:"number",onChange:v,className:P.a.input})]}),Object(c.jsx)("button",{type:"submit",disabled:N,className:P.a.formButton,children:n?"Save contact":"Add contact"})]})]})})),G=n(36),J=function(t){var e=t.children;return Object(c.jsx)("section",{className:G.section,children:e})},M=n(37),Z=n(9),z=n.n(Z),K=function(t){var e=t.id,n=t.name,a=t.number,r=t.update,o=t.onUpdate,i=t.onDelete,u=t.selectedContact,s=r?z.a.updated:z.a["not-updated"],b=r?z.a["text-updated"]:z.a["text-not-updated"];return Object(c.jsxs)("li",{className:s,children:[Object(c.jsxs)("span",{className:b,children:[n,":",a]}),Object(c.jsxs)("div",{className:z.a.wrapper,children:[Object(c.jsxs)("label",{className:u&&u.id!==e?z.a.inputHide:z.a.itemLabel,children:[" ","Update",Object(c.jsx)("input",{type:"checkbox","data-id":e,onChange:o,checked:r,className:u&&u.id!==e?z.a.inputHide:z.a.inputItem})]}),Object(c.jsx)("button",{type:"button","data-id":e,onClick:i,className:z.a.button,disabled:!(!u||u.id!==e),children:"Delete"})]})]})},V=Object(i.b)((function(t){return{contacts:F(t),selectedContact:D(t)}}),(function(t){return{deleteContact:function(e){t(function(t,e){return function(n){n(p()),w.a.delete("https://phonebook-83997-default-rtdb.firebaseio.com/contacts/".concat(t,".json"),e).then((function(){return n(h(t))})).catch((function(t){return n(m(t))})).finally((function(){return n(p())}))}}(e))},updateContact:function(e){t(x(e))},addToSelected:function(e){t(N(e))},resetSelected:function(){t(g())}}}))((function(t){var e=t.contacts,n=t.deleteContact,a=t.updateContact,r=t.addToSelected,o=t.resetSelected,i=t.selectedContact,u=function(t){n(t.target.dataset.id)},b=function(t){a(t.target.dataset.id),t.target.checked?r(t.target.dataset.id):o()};return Object(c.jsx)("ul",{className:M.list,children:e.map((function(t){return Object(c.jsx)(K,Object(s.a)(Object(s.a)({},t),{},{selectedContact:i,onUpdate:b,onDelete:u}),t.id)}))})})),Q=n(25),Y=n.n(Q),q=Object(i.b)((function(t){return{filter:k(t)}}),(function(t){return{filterContacts:function(e){t(C(e))}}}))((function(t){var e=t.filter,n=t.filterContacts;return Object(c.jsxs)("div",{className:Y.a.filter,children:[Object(c.jsxs)("label",{children:["Find contacts by name",Object(c.jsx)("input",{type:"text",value:e,onChange:function(t){n(t.target.value)},className:Y.a.filterInput})]}),Object(c.jsx)("br",{})]})})),X=n.p+"static/media/error.44f968b5.jpg",$=n(14),tt=function(t){var e=t.error,n=t.onclick;return Object(c.jsxs)("div",{className:$.wrapper,children:[Object(c.jsx)("p",{className:$.text,children:"Something went wrong"}),Object(c.jsx)("p",{className:$.text,children:e.message}),Object(c.jsx)("img",{src:X,alt:"error picture",width:"500",height:"300"}),Object(c.jsx)("button",{type:"button",onClick:n,className:$.formButton,children:"Try again"})]})},et=n(38),nt=n.n(et),ct=function(){return Object(c.jsx)("div",{style:{width:"500px",textAlign:"center"},children:Object(c.jsx)(nt.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})},at=function(){var t=Object(i.d)(R),e=Object(i.d)(B),n=Object(i.c)();return Object(a.useEffect)((function(){n((function(t){t(p()),w.a.get("https://phonebook-83997-default-rtdb.firebaseio.com/contacts.json").then((function(e){var n=Object.keys(e.data).map((function(t){return Object(s.a)(Object(s.a)({},e.data[t]),{},{id:t})}));t(y(n))})).catch((function(e){return t(m(e))})).finally((function(){return t(p())}))}))}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(J,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(W,{}),t?Object(c.jsx)(tt,{error:t,onclick:function(t){n(_())}}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(q,{}),e?Object(c.jsx)(ct,{}):Object(c.jsx)(V,{})]})]}),")}"]})};var rt,ot=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(at,{})})},it=n(10),ut=(n(87),n(6)),st={contacts:[],isLoading:!1,error:"",selectedContact:null},bt=Object(O.c)(Object(s.a)({},st),(rt={},Object(u.a)(rt,f,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:[].concat(Object(it.a)(t.contacts),[e.payload])})})),Object(u.a)(rt,p,(function(t){return Object(s.a)(Object(s.a)({},t),{},{isLoading:!t.isLoading})})),Object(u.a)(rt,m,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{error:e.payload})})),Object(u.a)(rt,_,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{error:""})})),Object(u.a)(rt,h,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(it.a)(t.contacts.filter((function(t){return t.id!==e.payload})))})})),Object(u.a)(rt,x,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(it.a)(t.contacts.map((function(t){return t.id===e.payload?Object(s.a)(Object(s.a)({},t),{},{update:!t.update}):t})))})})),Object(u.a)(rt,g,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{selectedContact:null})})),Object(u.a)(rt,N,(function(t,e){return t.contacts.find((function(t){return t.id===e.payload}))?Object(s.a)(Object(s.a)({},t),{},{selectedContact:Object(s.a)({},t.contacts.find((function(t){return t.id===e.payload})))}):t})),Object(u.a)(rt,v,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(it.a)(t.contacts.map((function(t){return t.id===e.payload.id?Object(s.a)(Object(s.a)({},t),{},{name:e.payload.name,number:e.payload.number,update:!1}):Object(s.a)({},t)})))})})),Object(u.a)(rt,y,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(it.a)(e.payload)})})),rt)),jt=Object(O.c)("",Object(u.a)({},C,(function(t,e){return e.payload}))),dt=Object(ut.combineReducers)({contactsArr:bt,filterValue:jt}),lt=Object(O.d)(),Ot=Object(O.a)({reducer:dt,middleware:Object(it.a)(lt)});o.a.render(Object(c.jsx)(i.a,{store:Ot,children:Object(c.jsx)(ot,{})}),document.getElementById("root"))},9:function(t,e,n){t.exports={"text-not-updated":"ListItem_text-not-updated__2IHZi","text-updated":"ListItem_text-updated__2ZtsJ",wrapper:"ListItem_wrapper__1fp0r",updated:"ListItem_updated__aW2Jt","not-updated":"ListItem_not-updated__-d2fC",inputHide:"ListItem_inputHide__2ZxkL",button:"ListItem_button__dNwaP","button-not-updated":"ListItem_button-not-updated__29-3t","button-updated":"ListItem_button-updated__NvP6L"}}},[[88,1,2]]]);
//# sourceMappingURL=main.e6af7db7.chunk.js.map