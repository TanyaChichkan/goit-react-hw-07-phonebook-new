(this["webpackJsonpreact-config"]=this["webpackJsonpreact-config"]||[]).push([[0],{10:function(t,e,n){t.exports={form:"Form_form__1a9c9",label:"Form_label__1zVtl",input:"Form_input__1jByK",formButton:"Form_formButton__28yf2"}},20:function(t,e,n){t.exports={alertWrapper:"Notification_alertWrapper__249cw",alertText:"Notification_alertText__1isZC"}},21:function(t,e,n){t.exports={filterInput:"Filter_filterInput__1BKKH",filter:"Filter_filter__1P7Q4"}},31:function(t,e,n){t.exports={section:"Section_section__p6yfA"}},32:function(t,e,n){t.exports={list:"List_list__1YECW"}},38:function(t,e,n){},64:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),o=n(13),r=n.n(o),i=(n(38),n(8)),u=n(5),s=n(2),b=n(15),d=n(10),l=n.n(d),j=n(3),O=Object(j.b)("ADD_CONTACT"),f=Object(j.b)("SET_LOADING"),p=Object(j.b)("SET_ERROR"),m=Object(j.b)("DELETE_CONTACT"),_=Object(j.b)("UPDATE_CONTACT"),h=Object(j.b)("FILER_CONTACT"),x=(Object(j.b)("CHANGE_ALERT"),Object(j.b)("RESET_SELECTED")),C=Object(j.b)("ADD_TO_SELECTED"),N=Object(j.b)("CHANGE_CONTACT"),T=Object(j.b)("GET_CONTACTS"),y=n(12),g=n.n(y),v=n(20),L=n.n(v),A=function(t){var e=t.name,n=t.changeAlert,o=t.changeName;return Object(a.useEffect)((function(){var t=setTimeout((function(){n(!1),o("")}),2e3);return function(){clearTimeout(t)}}),[]),Object(c.jsx)("div",{className:L.a.alertWrapper,children:Object(c.jsxs)("p",{className:L.a.alertText,children:[e&&e[0].toUpperCase()+e.slice(1)," is already in the list!!!"]})})},E={name:"",number:""},I=Object(i.b)((function(t){return{alertFlag:t.contactsArr.alert,contacts:t.contactsArr.contacts,selectedContact:t.contactsArr.selectedContact}}),(function(t){return{addContact:function(e){t(function(t){return function(e){e(f()),g.a.post("https://phonebook-83997-default-rtdb.firebaseio.com/contacts.json",Object(s.a)(Object(s.a)({},t),{},{update:!1})).then((function(n){return e(O(Object(s.a)(Object(s.a)({},t),{},{id:n.data.name})))})).catch((function(t){return e(p(t))})).finally((function(){return e(f())}))}}(e))},changeContact:function(e){var n;t((n=e,function(t){t(f()),g.a.put("https://phonebook-83997-default-rtdb.firebaseio.com/contacts/".concat(n.id,".json"),Object(s.a)(Object(s.a)({},n),{},{update:!1})).then((function(){t(N(n)),t(x())})).catch((function(t){return p(t)})).finally((function(){return f()}))}))},resetSelected:function(){t(x())}}}))((function(t){var e=t.addContact,n=(t.alertFlag,t.selectedContact),o=t.changeContact,r=(t.resetSelected,t.contacts),i=Object(a.useState)(Object(s.a)({},E)),d=Object(b.a)(i,2),j=d[0],O=d[1],f=Object(a.useState)(!1),p=Object(b.a)(f,2),m=p[0],_=p[1],h=Object(a.useState)(""),x=Object(b.a)(h,2),C=x[0],N=x[1],T=!j.name||!j.number;Object(a.useEffect)((function(){O(n?Object(s.a)({},n):Object(s.a)({},E))}),[n]);var y=function(t){var e=t.target,n=e.name,c=e.value;O((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(u.a)({},n,c))}))};return Object(c.jsxs)(c.Fragment,{children:[m&&Object(c.jsx)(A,{name:C,changeAlert:_,changeName:N}),Object(c.jsxs)("form",{onSubmit:function(t){t.preventDefault(),n?o(j):r.some((function(t){return t.name.toLowerCase()===j.name.toLowerCase()}))?(_(!0),N(j.name)):e(j),O(Object(s.a)({},E))},className:l.a.form,children:[Object(c.jsxs)("label",{className:l.a.label,children:[" Name",Object(c.jsx)("input",{type:"text",value:j.name,name:"name",onChange:y,className:l.a.input})]}),Object(c.jsxs)("label",{className:l.a.label,children:[" Number",Object(c.jsx)("input",{type:"text",value:j.number,name:"number",onChange:y,className:l.a.input})]}),Object(c.jsx)("button",{type:"submit",disabled:T,className:l.a.formButton,children:n?"Save contact":"Add contact"})]})]})})),S=n(31),k=function(t){var e=t.children;return Object(c.jsx)("section",{className:S.section,children:e})},D=n(9),w=n(32),F=n(7),H=n.n(F),R=function(t){var e=t.id,n=t.name,a=t.number,o=t.update,r=t.onUpdate,i=t.onDelete,u=t.selectedContact,s=o?H.a.updated:H.a["not-updated"],b=o?H.a["text-updated"]:H.a["text-not-updated"];return Object(c.jsxs)("li",{className:s,children:[Object(c.jsxs)("span",{className:b,children:[n,":",a]}),Object(c.jsxs)("div",{className:H.a.wrapper,children:[Object(c.jsxs)("label",{className:u&&u.id!==e?H.a.inputHide:H.a.itemLabel,children:[" Update",Object(c.jsx)("input",{type:"checkbox","data-id":e,onChange:r,checked:o,className:u&&u.id!==e?H.a.inputHide:H.a.inputItem})]}),Object(c.jsx)("button",{type:"button","data-id":e,onClick:i,className:H.a.button,disabled:!(!u||u.id!==e),children:"Delete"})]})]})},U=Object(i.b)((function(t){return{contacts:Object(D.a)(t.contactsArr.contacts.filter((function(e){return e.name.toLowerCase().includes(t.filterValue.toLowerCase())}))),selectedContact:t.contactsArr.selectedContact,onUpdateItem:t.contactsArr.onUpdateItem}}),(function(t){return{deleteContact:function(e){t(function(t,e){return function(n){n(f()),g.a.delete("https://phonebook-83997-default-rtdb.firebaseio.com/contacts/".concat(t,".json"),e).then((function(){return n(m(t))})).catch((function(t){return n(p(t))})).finally((function(){return n(f())}))}}(e))},updateContact:function(e){t(_(e))},addToSelected:function(e){t(C(e))},resetSelected:function(){t(x())}}}))((function(t){var e=t.contacts,n=t.deleteContact,a=t.updateContact,o=t.addToSelected,r=t.resetSelected,i=t.selectedContact,u=function(t){n(t.target.dataset.id)},b=function(t){a(t.target.dataset.id),t.target.checked?o(t.target.dataset.id):r()};return Object(c.jsx)("ul",{className:w.list,children:e.map((function(t){return Object(c.jsx)(R,Object(s.a)(Object(s.a)({},t),{},{selectedContact:i,onUpdate:b,onDelete:u}),t.id)}))})})),B=n(21),P=n.n(B),W=Object(i.b)((function(t){return{filter:t.filterValue}}),(function(t){return{filterContacts:function(e){t(h(e))}}}))((function(t){var e=t.filter,n=t.filterContacts;return Object(c.jsxs)("div",{className:P.a.filter,children:[Object(c.jsxs)("label",{children:["Find contacts by name",Object(c.jsx)("input",{type:"text",value:e,onChange:function(t){n(t.target.value)},className:P.a.filterInput})]}),Object(c.jsx)("br",{})]})})),G=function(){var t=Object(i.c)();return Object(a.useEffect)((function(){t((function(t){t(f()),g.a.get("https://phonebook-83997-default-rtdb.firebaseio.com/contacts.json").then((function(e){var n=Object.keys(e.data).map((function(t){return Object(s.a)(Object(s.a)({},e.data[t]),{},{id:t})}));t(T(n))})).catch((function(e){return t(p)})).finally((function(){return t(f())}))}))}),[]),Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(k,{children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsx)(I,{}),Object(c.jsx)(W,{}),Object(c.jsx)(U,{})]})})};var J,V=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(G,{})})},Z=(n(63),n(4)),K={contacts:[],isLoading:!1,error:"",selectedContact:null},z=Object(j.c)(Object(s.a)({},K),(J={},Object(u.a)(J,O,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:[].concat(Object(D.a)(t.contacts),[e.payload])})})),Object(u.a)(J,f,(function(t){return Object(s.a)(Object(s.a)({},t),{},{isLoading:!t.isLoading})})),Object(u.a)(J,p,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{error:e.payload})})),Object(u.a)(J,m,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(D.a)(t.contacts.filter((function(t){return t.id!==e.payload})))})})),Object(u.a)(J,_,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(D.a)(t.contacts.map((function(t){return t.id===e.payload?Object(s.a)(Object(s.a)({},t),{},{update:!t.update}):t})))})})),Object(u.a)(J,x,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{selectedContact:null})})),Object(u.a)(J,C,(function(t,e){return t.contacts.find((function(t){return t.id===e.payload}))?Object(s.a)(Object(s.a)({},t),{},{selectedContact:Object(s.a)({},t.contacts.find((function(t){return t.id===e.payload})))}):t})),Object(u.a)(J,N,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(D.a)(t.contacts.map((function(t){return t.id===e.payload.id?Object(s.a)(Object(s.a)({},t),{},{name:e.payload.name,number:e.payload.number,update:!1}):Object(s.a)({},t)})))})})),Object(u.a)(J,T,(function(t,e){return Object(s.a)(Object(s.a)({},t),{},{contacts:Object(D.a)(e.payload)})})),J)),Q=Object(j.c)("",Object(u.a)({},h,(function(t,e){return e.payload}))),Y=Object(Z.combineReducers)({contactsArr:z,filterValue:Q}),q=Object(j.d)(),M=Object(j.a)({reducer:Y,middleware:Object(D.a)(q)});r.a.render(Object(c.jsx)(i.a,{store:M,children:Object(c.jsx)(V,{})}),document.getElementById("root"))},7:function(t,e,n){t.exports={"text-not-updated":"ListItem_text-not-updated__2IHZi","text-updated":"ListItem_text-updated__2ZtsJ",wrapper:"ListItem_wrapper__1fp0r",updated:"ListItem_updated__aW2Jt","not-updated":"ListItem_not-updated__-d2fC",inputHide:"ListItem_inputHide__2ZxkL",button:"ListItem_button__dNwaP","button-not-updated":"ListItem_button-not-updated__29-3t","button-updated":"ListItem_button-updated__NvP6L"}}},[[64,1,2]]]);
//# sourceMappingURL=main.bc39851c.chunk.js.map